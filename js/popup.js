"use strict";!function(){function t(){e.classList.remove("popup--opened")}function n(){d=v.cloneNode(!0),u.appendChild(d),document.addEventListener("keydown",y),document.addEventListener("click",f)}function o(){d&&d.remove(),i.reset(),r.reset(),t(),document.removeEventListener("keydown",y),document.removeEventListener("click",f)}var e=document.querySelector(".popup"),c=document.querySelector(".popup__toggle"),u=document.querySelector("main"),d=null,r=document.querySelector(".form__wrapper"),i=document.querySelector(".form__popup"),s=document.querySelector(".price-list"),m=document.querySelector(".promo-block__button"),p=document.querySelector(".header__button"),l=function(){e.classList.add("popup--opened")},a=function(e){"Escape"===e.key&&t()},v=document.querySelector("#success").content.querySelector(".popup__success"),f=function(){o()},y=function(e){e.key&&o()};c.addEventListener("click",function(){t(),document.removeEventListener("keydown",a)}),r.addEventListener("submit",function(e){e.preventDefault(),n()}),i.addEventListener("submit",function(e){e.preventDefault(),n()}),s.addEventListener("click",function(){event.target.matches("button")&&(l(),document.addEventListener("keydown",a))}),m.addEventListener("click",function(){l(),document.addEventListener("keydown",a)}),p.addEventListener("click",function(){l(),document.addEventListener("keydown",a)})}();